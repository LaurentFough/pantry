// Generated by CoffeeScript 1.6.2
var Log, MockResource, Storage, should;

should = require('should');

Log = require('coloured-log');

Storage = require('../lib/pantry-redis');

MockResource = require('../mocks/resource-mock');

describe('pantry-redis', function() {
  return describe('get/put', function() {
    return describe('when adding an item to storage', function() {
      var resource, storage;

      storage = new Storage(null, null, null, Log.CRITICAL);
      resource = new MockResource('fresh', "Hello World " + (new Date()));
      it('should not return an error', function(done) {
        return storage.put(resource, function(err, results) {
          return done(err);
        });
      });
      return it('should be retrievable', function(done) {
        return storage.get(resource.options.key, function(err, item) {
          item.options.should.have.property('key', resource.options.key);
          item.should.have.property('results', resource.results);
          return done(err);
        });
      });
    });
  });
});